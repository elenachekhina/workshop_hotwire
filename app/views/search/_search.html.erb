<div class="nav--mid">
  <div class="nav--search" data-controller="search">
    <%= form_with(url: search_path, method: :get, class: "nav--search") do |f| %>
      <div class="nav--search--icon">
        <%= render "icons/search" %>
      </div>
      <%= f.search_field :q, value: params[:q], class: "nav--search--input search", data: { action: "input->search#search keyup->search#handleEnter", search_target: "search" } %>
    <% end %>
    <%= turbo_frame_tag 'search_preview', data: { search_target: "preview" }, target: "_top" %>
  </div>
</div>